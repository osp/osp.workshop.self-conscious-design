<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title></title>

  <link href="../Style/style.css" rel="stylesheet" type="text/css"/>
  <script src="../JS/jquery-2.0.3.min.js" type="text/javascript"></script>
  
  <script type="text/javascript">
  //choose words
  var adjectives=new Array ('The living', 'The logical', 'The secondary', 'The absolute', 'The fashion');
  var subjects=new Array ('logic', 'process', 'time', 'solution', 'problem');
  var verbs=new Array ('shall apply to', 'shall remain in', 'shall allow', 'shall escape from', 'shall assign');
  var adjectivesTwo=new Array ('living', 'logical', 'secondary', 'absolute', 'fashion');
  var nouns=new Array ('logic', 'process', 'time', 'solution', 'problem');

  var motCourrant = 1;
  var factor = 40;

  var wordOrder=new Array (
    {'wordList': adjectives, 'elementId': '1'},
    {'wordList': subjects, 'elementId': '2'},
    {'wordList': verbs, 'elementId': '3'},
    {'wordList': adjectivesTwo, 'elementId': '4'},
    {'wordList': nouns, 'elementId': '5'}
  );

  document.addEventListener ('DOMContentLoaded', function () {
    setTextSize ();
    blessWord ();
    window.addEventListener('click', blessWord, false)
  }, false);

  $(window).resize(function() {
        setTextSize ();
      });

  var elem = null

  var setTextSize = function () {
    baseSize = $('body').width() / factor;
   
    $('body').css('font-size', baseSize);
    $('body').css('line-height', baseSize + 'px');
  };

  var blessWord = function () {
    changeColorSize();
    motCourrant++;
    if (motCourrant === 6) {
      motCourrant = 1;
    }
    if (wordOrder.length > 0) {
      var wordObj = wordOrder.shift ();
      wordOrder.push (wordObj);

      //if (elem != null)
        //elem.removeEventListener ('click', blessWord, false);
      
      elem = document.getElementById (wordObj.elementId);
      console.log (elem);

      // never the same word twice in a row
      var currentWord = elem.innerText;
      var newWord = wordObj.wordList[Math.floor(Math.random()*wordObj.wordList.length)]
      while (newWord === currentWord) {
        newWord = wordObj.wordList[Math.floor(Math.random()*wordObj.wordList.length)];
      }
      elem.innerText = newWord;


      //elem.addEventListener ('click', blessWord, false);

    }
  }

    //change color and size
  function changeColorSize(){
    var minSize=20;
    var maxSize=200;
    //var colorise=true;
    //var colorArray=['red', 'black', 'green', 'blue'];
    var fontArray=['Futura-CondensedExtraBold', 'TimesNewRomanPSMT', 'AmericanTypewriter', 'Palatino-Roman'];

    $('#' + motCourrant).css({
        //'color':colorArray[Math.floor(Math.random()*colorArray.length)],
        'font-family':fontArray[Math.floor(Math.random()*fontArray.length)],
        'font-size': (minSize + (Math.floor(Math.random()*(maxSize-minSize)))) + '%'
    });
  }
  function getRandomInt(min, max){
    return Math.floor(Math.random()*(max-min+1))+min;
  }
  $(document).ready(function(){
    changeColorSize();
  });

  </script>
</head>

<body>
  <div class="poem">
    <h1 class="center"><p id="1" class="js"></p></h1>
    <h1 class="center"><p id="2"></p></h1>
    <h1 class="center"><p id="3"></p></h1>
    <h1 class="center"><p id="4"></p></h1>
    <h1 class="center"><p id="5"></p></h1>
  </div>
</body>
</html>
